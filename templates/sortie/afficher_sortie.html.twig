{%  extends ('layout.html.twig') %}

{% block title %}Détail de la sortie{% endblock %}

{% block main %}

    {#
    Cette page s'affiche si l'utilisateur n'est pas le créateur de la sortie

    1ere partie --Cette page receptionne une instance de sortie(contenant une instance de lieu)
    2eme partie --Elle a également besoin d'une liste de participant ayant un L'ID de la sortie

    #}

<section>

    <div class="container">

        <h3 class="titre center-align">Détails de la sortie</h3>

        <div class="row">
            <br>
                <div class ="col s6 l3 m3">
                    <label class ="aff_sortie_label">Nom de la sortie :</label>
                </div>
                <div class ="col s6 l3 m3">
                    <span>{{outing.nom}}</span>
                </div>

                <div class ="col s6 l3 m3">
                    <label class ="aff_sortie_label">Ville organisatrice :</label>
                </div>
                <div class ="col s6 l3 m3">
                    <span>{{outing.lieu.ville.nom}}</span>
                </div>
            <br>
        </div>

        <div class="row">
                <div class ="col s6 l3 m3">
                    <label class ="aff_sortie_label">Date et heure de la sortie :</label>
                </div>

                <div class ="col s6 l3 m3">
                    <span>{{outing.dateHeureDebut|date('d-m-Y') }}</span>
                </div>

                <div class ="col s6 l3 m3">
                    <label class ="aff_sortie_label">Lieu :</label>
                </div>

                <div class ="col s6 l3 m3">
                    <span>{{outing.lieu.nom}}</span>
                </div>
            <br>
        </div>

        <div class="row">
                <div class ="col s6 l3 m3">
                    <label class ="aff_sortie_label">Date limite d'inscription :</label>
                </div>

                <div class ="col s6 l3 m3">
                    <span>{{outing.dateLimiteInscription|date('d-m-Y') }}</span>
                </div>

                <div class ="col s6 l3 m3">
                    <label class ="aff_sortie_label">Rue :</label>
                </div>

                <div class ="col s6 l3 m3">
                    <span>{{outing.lieu.rue}}</span>
                </div>
            <br>
        </div>

        <div class="row">
                <div class ="col s6 l3 m3">
                    <label class ="aff_sortie_label">Nombre de places :</label><span></span>
                </div>

                <div class ="col s6 l3 m3">
                    <span>{{outing.nbInscriptionsMax}}</span>
                </div>

                <div class ="col s6 l3 m3">
                    <label class ="aff_sortie_label">Code postal :</label><span></span>
                </div>

                <div class ="col s6 l3 m3">
                    <span>{{outing.lieu.ville.codePostal}}</span>
                </div>
            <br>
        </div>

        <div class="row">
                <div class ="col s6 l3 m3">
                    <label class ="aff_sortie_label">Durée :</label>
                </div>

                <div class ="col s6 l3 m3">
                    <span>{{ outing.duree }} minutes</span>
                </div>

                <div class ="col s6 l3 m3">
                    <label class ="aff_sortie_label">Latitude :</label>
                </div>

                <div class ="col s6 l3 m3">
                    <span>{{outing.lieu.latitude}}</span>
                </div>
            <br>
        </div>

        <div class="row">
                <div class ="col s6 l3 m3">
                    <label class ="aff_sortie_label">Description et infos :</label>
                </div>

                <div class ="col s6 l3 m3">
                    <span>{{ outing.infosSortie }}</span>
                </div>

                <div class ="col s6 l3 m3">
                    <label class ="aff_sortie_label">Longitude :</label>
                </div>

                <div class ="col s6 l3 m3">
                    <span>{{outing.lieu.longitude}}</span>
                </div>
            <br>
        </div>

    </div>

</section>

<section>
    <br>
    <h5 class="center-align">Liste des participants inscrits</h5>
    <div class="tabParticipant">

        <div class="row">

        <table class ="col s12 l6 offset-l3  m8 offset-m2">
            <thead>
            <tr>
                <th class="tpTH">Pseudo</th>
                <th class="tpTH">Nom</th>
            </tr>
            </thead>

            <tbody>
            {%for inscription in users%}
            <tr>
                <td>{{inscription.user.username}}</td>
                <td>{{inscription.user.nom}} {{inscription.user.prenom}}</td>
            </tr>
            {%endfor%}
            </tbody>
        </table>
        </div>
    </div>

</section>
{% endblock %}
