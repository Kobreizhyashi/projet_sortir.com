{% extends ("layout.html.twig") %}


{% block title %} Ajouter une sortie {% endblock %}



{% block main %}
    <div class="form col s12 l8 m8 xl4  offset-l2 z-depth-2">

        <label for="choice">Ville concernée :</label>
        <div class="input-field col s12">
            <select class="choice">
                {% for ville in villes %}
                    <option value="{{ ville.id }}" id="{{ ville.id }}">{{ ville.nom }}</option>
                {% endfor %}
            </select>


        </div>
        {{ form_start(outingForm) }}
        {{ form_widget(outingForm) }}
        <div id="buttonAddLieu" class="center-align">
            <button class="btn pulse adding-places center-align"><i class="material-icons">add_location</i><span>Ajouter un lieu</span>
            </button>
        </div>
        <section class="place-adder" style="display: none;">

            <div id="toHide" class="center-align">
                <div class="input-field col s12">
                    <select id="siteSelection">
                        {% for ville in villes %}
                            <option value="{{ ville.id }}" id="{{ ville.id }}">{{ ville.nom }}</option>
                        {% endfor %}
                    </select>


                <div class="input-field col s10">
                    <input placeholder="Aux champs Elysées.. Palapalapa" id="nom" type="text" class="validate">
                    <label for="first_name">Nom</label>
                </div>
                <div class="input-field col s10">
                    <input placeholder="Place des grands hommes (dans 10 ans)" id="adresse" type="text"
                           class="validate">
                    <label for="first_name">Adresse</label>
                </div>
                <div class="input-field col s10">
                    <input placeholder="123" id="long" type="number" class="validate" >
                    <label for="first_name">Longitude</label>
                </div>
                <div class="input-field col s10">
                    <input placeholder="456" id="lat" type="number" class="validate" >
                    <label for="first_name">Latitude</label>
                </div>
                <button type="button" id="validePlaceCreation" style="margin-bottom: 5px;"
                        class="btn waves-effect waves-light btn-small center-align">Un nouveau Lieu !
                </button>


<script>


        <button type="submit" class="btn waves-effect waves-light">Ajouter</button>
        <a href="{{ path('main') }}" class="delete-btn btn waves-effect waves-light">Annuler</a>
        {{ form_end(outingForm) }}
    </div>
    <script>

                $('.ajaxSite').empty();
                $.each(data, function (id, lieu) {
                    $('.ajaxSite').append($('<option value="'+ id + '">' + lieu + '</option>'));
                });
            }
        });
        e.preventDefault();
    });


    // https://openclassrooms.com/forum/sujet/symfony-formulaire-dynamique-cadeau

</script>



{% endblock %}

